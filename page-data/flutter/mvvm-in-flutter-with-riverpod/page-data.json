{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/flutter/mvvm-in-flutter-with-riverpod","result":{"data":{"markdownRemark":{"id":"ca474bc5-332d-5c89-87d1-def7ecf0aa59","html":"<p>입사하고 <a href=\"https://flutter.dev\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Flutter</a>를 사용해서 모바일 어플리케이션 개발을 시작했다. 어떤 디자인 패턴을 적용할지 고민하던 중에, 안드로이드는 공식적으로 MVVM 패턴을 권장하는 것을 확인했다. 정확히는 <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ViewModel에 대한 설명</a>을 공식문서에서 다루고 있다. 플러터가 구글에서 만든거기도 하고, Material UI를 지원하니, MVVM 패턴을 좋겠다고 생각하던 와중에 네트워킹 이벤트에서 만난 iOS 개발자분이 iOS도 MVVM이 기본이라고 하셔서, 플러터로 진행하는 프로젝트에도 MVVM을 적용해보기로 했다.</p>\n<h1 id=\"mvvm-model-view-viewmodel-이란\" style=\"position:relative;\"><a href=\"#mvvm-model-view-viewmodel-%EC%9D%B4%EB%9E%80\" aria-label=\"mvvm model view viewmodel 이란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MVVM (Model-View-ViewModel) 이란?</h1>\n<p><a href=\"https://learn.microsoft.com/en-us/xamarin/xamarin-forms/enterprise-application-patterns/mvvm\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Microsoft에서 처음으로 등장한 개념</a>인데,</p>\n<ol>\n<li>Model - 데이터</li>\n<li>View - UI</li>\n<li>ViewModel - 데이터와 UI를 연결하는 역할</li>\n</ol>\n<p>으로 구분하는 것이다.</p>\n<p><img src=\"https://learn.microsoft.com/en-us/xamarin/xamarin-forms/enterprise-application-patterns/mvvm-images/mvvm.png\" alt=\"mvvm-pattern\"></p>\n<p>글로 표현하자면 Model에 있는 데이터를 ViewModel이 처리해서 View에서 보여주는 방식이다.</p>\n<h1 id=\"mvvm-in-flutter\" style=\"position:relative;\"><a href=\"#mvvm-in-flutter\" aria-label=\"mvvm in flutter permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>MVVM in Flutter</h1>\n<p>MVVM을 플러터 용어로 바꾸면, Model은 앱에서 사용되는 데이터를 관리하고, View는 화면을 담당하는 Widget, ViewModel은 <a href=\"https://riverpod.dev/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">riverpod</a>패키지를 사용하기로 했다.</p>\n<h3 id=\"model\" style=\"position:relative;\"><a href=\"#model\" aria-label=\"model permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Model</h3>\n<p>Model은 타입 관리가 중요하기 때문에 <a href=\"https://pub.dev/packages/freezed\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">freezed</a> 패키지를 사용하기로 했다. 물론 Dart에서 기본으로 제공하는 Class를 사용해서 모델을 선언해도 되지만, immutable한 데이터를 사용하고 JSON serialize를 편하게 하기위해서 패키지를 사용하기로 결정했다. freezed는 아래처럼 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">import</span> <span class=\"token string-literal\"><span class=\"token string\">'package:freezed_annotation/freezed_annotation.dart'</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">part</span> <span class=\"token string-literal\"><span class=\"token string\">'user.freezed.dart'</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">part</span> <span class=\"token string-literal\"><span class=\"token string\">'user.g.dart'</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token metadata function\">@freezed</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token keyword\">with</span> _$<span class=\"token class-name\">User</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">factory</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    required <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">,</span>\n    required <span class=\"token class-name\">String</span> email<span class=\"token punctuation\">,</span>\n    required <span class=\"token class-name\">String</span> phone<span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> _User<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">factory</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromJson</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">Object</span><span class=\"token operator\">?</span><span class=\"token punctuation\">></span></span> json<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> _$<span class=\"token class-name\">UserFromJson</span><span class=\"token punctuation\">(</span>json<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위와 같이 입력하고 터미널에서 <code class=\"language-text\">flutter pub run build_runner build --delete-conflicting-outputs</code>를 입력하면 <code class=\"language-text\">user.freezed.dart</code>, <code class=\"language-text\">user.g.dart</code>라는 보일러플레이트를 생성해준다.</p>\n<h3 id=\"viewmodel\" style=\"position:relative;\"><a href=\"#viewmodel\" aria-label=\"viewmodel permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ViewModel</h3>\n<p>View에 앞서 freezed를 사용해서 model에서 선언한 데이터를 ViewModel에서 어떻게 처리하는지 알아보자.</p>\n<p>Riverpod는 Provider2.0의 느낌이다. 초반 세팅만 잘하면 매우 편리하게 사용할 수 있다. 앱 자체에서 관리되는 로컬상태 관리하기 위해서는 <a href=\"https://riverpod.dev/docs/providers/state_notifier_provider\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">StateNotifierProvider</a>를 사용하지만, API call은 <a href=\"https://riverpod.dev/docs/providers/future_provider\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">FutureProvider</a>를 사용한다.</p>\n<p>Riverpod를 사용해서 구현한 ViewModel은 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">final</span> userProvider <span class=\"token operator\">=</span> <span class=\"token class-name\">FutureProvider</span><span class=\"token punctuation\">.</span>autoDispose<span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Account</span><span class=\"token punctuation\">></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>ref<span class=\"token punctuation\">)</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">final</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">getUserInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">final</span> user <span class=\"token operator\">=</span> <span class=\"token class-name\">User</span><span class=\"token punctuation\">.</span><span class=\"token function\">fromJSON</span><span class=\"token punctuation\">(</span><span class=\"token function\">jsonDecode</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> user<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>실제로는 api call을 처리하는 부분에서 json으로 변환한 후 <code class=\"language-text\">User</code>로 변경하지만, 이해를 돕기위해 provider에 바로 작성했다. 이제 riverpod가 return하는 user를 View를 담당하는 Widget에서 보여준다.</p>\n<h3 id=\"view\" style=\"position:relative;\"><a href=\"#view\" aria-label=\"view permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>View</h3>\n<p>기본적으로 StatelessWidget을 사용하겠지만, riverpod를 사용하는 경우 ConsumerWidget을 사용한다. 아래와 같은 느낌이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"dart\"><pre class=\"language-dart\"><code class=\"language-dart\"><span class=\"token keyword\">class</span> <span class=\"token class-name\">UserInfo</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">ConsumerWidget</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token metadata function\">@override</span>\n  <span class=\"token class-name\">Widget</span> <span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">BuildContext</span> context<span class=\"token punctuation\">,</span> <span class=\"token class-name\">WidgetRef</span> ref<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">final</span> <span class=\"token class-name\">AsyncValue</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">Account</span><span class=\"token punctuation\">></span></span> user <span class=\"token operator\">=</span> ref<span class=\"token punctuation\">.</span><span class=\"token function\">watch</span><span class=\"token punctuation\">(</span>userProvider<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> user<span class=\"token punctuation\">.</span><span class=\"token function\">when</span><span class=\"token punctuation\">(</span>\n      data<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>userInfo<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token class-name\">Wrap</span><span class=\"token punctuation\">(</span>\n            runSpacing<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n            children<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n              <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>\n                <span class=\"token string-literal\"><span class=\"token string\">'이름'</span></span><span class=\"token punctuation\">,</span>\n                style<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TextStyle</span><span class=\"token punctuation\">(</span>\n                  fontSize<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Theme</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textTheme<span class=\"token punctuation\">.</span>titleMedium<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>fontSize<span class=\"token punctuation\">,</span>\n                  fontWeight<span class=\"token punctuation\">:</span> <span class=\"token class-name\">FontWeight</span><span class=\"token punctuation\">.</span>w600<span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>\n                userInfo<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">,</span>\n                style<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TextStyle</span><span class=\"token punctuation\">(</span>\n                  fontSize<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Theme</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textTheme<span class=\"token punctuation\">.</span>bodyLarge<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>fontSize<span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>\n                <span class=\"token string-literal\"><span class=\"token string\">'전화번호'</span></span><span class=\"token punctuation\">,</span>\n                style<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TextStyle</span><span class=\"token punctuation\">(</span>\n                  fontSize<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Theme</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textTheme<span class=\"token punctuation\">.</span>titleMedium<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>fontSize<span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>\n                userInfo<span class=\"token punctuation\">.</span>phone<span class=\"token punctuation\">,</span>\n                style<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TextStyle</span><span class=\"token punctuation\">(</span>\n                  fontSize<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Theme</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textTheme<span class=\"token punctuation\">.</span>bodyLarge<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>fontSize<span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>\n                <span class=\"token string-literal\"><span class=\"token string\">'이메일'</span></span><span class=\"token punctuation\">,</span>\n                style<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TextStyle</span><span class=\"token punctuation\">(</span>\n                  fontSize<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Theme</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textTheme<span class=\"token punctuation\">.</span>titleMedium<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>fontSize<span class=\"token punctuation\">,</span>\n                  fontWeight<span class=\"token punctuation\">:</span> <span class=\"token class-name\">FontWeight</span><span class=\"token punctuation\">.</span>w600<span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>\n                userInfo<span class=\"token punctuation\">.</span>email<span class=\"token punctuation\">,</span>\n                style<span class=\"token punctuation\">:</span> <span class=\"token class-name\">TextStyle</span><span class=\"token punctuation\">(</span>\n                  fontSize<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Theme</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>textTheme<span class=\"token punctuation\">.</span>bodyLarge<span class=\"token operator\">?</span><span class=\"token punctuation\">.</span>fontSize<span class=\"token punctuation\">,</span>\n                  fontWeight<span class=\"token punctuation\">:</span> <span class=\"token class-name\">FontWeight</span><span class=\"token punctuation\">.</span>w600<span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      error<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token class-name\">Text</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      loading<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token class-name\">Center</span><span class=\"token punctuation\">(</span>\n        child<span class=\"token punctuation\">:</span> <span class=\"token class-name\">CircularProgressIndicator</span><span class=\"token punctuation\">(</span>\n          color<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Theme</span><span class=\"token punctuation\">.</span><span class=\"token function\">of</span><span class=\"token punctuation\">(</span>context<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>colorScheme<span class=\"token punctuation\">.</span>primary<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">AsyncValue</code>를 사용하면 자체적으로 상태를 api call이 진행중인 경우 <code class=\"language-text\">AsyncLoading</code>이 되어 Loading indicator를 보여줄 수 있다. 실패한 경우 <code class=\"language-text\">AsyncError</code>는 에러메세지를 보여주고, 성공시 <code class=\"language-text\">AsyncData</code>는 View에서 데이터를 보여준다.</p>\n<p>MVVM 패턴을 적용하면 ViewModel에서 데이터를 모두 처리하기 때문에, 같은 데이터를 다양한 Widget에서 보여줘야 하는 경우 해당 데이터를 불러오기만 하면 된다. Widget에서 api call로 볼러온 값을 별도로 처리하지 않아도 되고, 여러 Widget에서 같은 값을 사용하는 경우에도 한번의 api call로 해결이 가능하다.</p>\n<p>플러터로 개발하실 분들은 MVVM 패턴을 적극 추천한다.</p>","fields":{"slug":"/posts/2023//flutter/mvvm-in-flutter-with-riverpod","tagSlugs":["/tag/flutter/"]},"frontmatter":{"date":"2023-05-10T20:35:37.121Z","description":"Riverpod를 사용해서 MVVM에서 ViewModel을 구현한 방법","tags":["Flutter"],"title":"플러터에 MVVM 패턴 적용","socialImage":null}}},"pageContext":{"slug":"/posts/2023//flutter/mvvm-in-flutter-with-riverpod"}},"staticQueryHashes":["251939775","288581551","401334301"]}